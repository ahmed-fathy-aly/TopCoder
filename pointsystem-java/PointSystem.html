<html><head><title>PointSystem</title></head><body  ><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>The game of tennis has a rather unusual scoring system.  It can be simplified to the following rule: &quot;If a player has at least four points, and is at least two points ahead of his opponent, that player wins the game.&quot;  For example, 4-1 and 6-4 are winning scores, whereas 3-0 and 5-4 are not.</p>

<p>We can generalize this class of point systems by introducing two variables, <b>pointsToWin</b> and <b>pointsToWinBy</b>.  The new rule is &quot;If a player has at least <b>pointsToWin</b> points, and is at least <b>pointsToWinBy</b> points ahead of his opponent, that player wins the game.&quot;  For example, the common practice of taking &quot;best two out of three&quot; falls into this class, where <b>pointsToWin</b> = 2 and <b>pointsToWinBy</b> = 1.</p>

<p>You would like to know, given a particular point system and the skills of two players, the probability of an upset.  An &quot;upset&quot; is defined as a game where a player of lesser skill beats a player of greater skill.  Given an int <b>skill</b>, representing the percent likelihood that the worse player beats the better player on any particular turn, along with <b>pointsToWin</b> and <b>pointsToWinBy</b>, you should return a double between 0 and 1 indicating the odds of an upset.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PointSystem</td></tr><tr><td>Method:</td><td>oddsOfWinning</td></tr><tr><td>Parameters:</td><td>int, int, int</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double oddsOfWinning(int pointsToWin, int pointsToWinBy, int skill)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>pointsToWin</b> will be between 1 and 10, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>pointsToWinBy</b> will be between 1 and 5, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>skill</b> will be between 1 and 50, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>40</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.352</pre></td></tr><tr><td><table><tr><td colspan="2">This is the 'best two out of three' game.  There are exactly three possible ways for an upset to occur:
<br></br>1) The worse player scores two consecutive points, with probability <tt>0.4*0.4 = 0.16</tt>
<br></br>2) The better player scores one point, and then the worse player scores two consecutive points, with probability <tt>0.6*0.4*0.4 = 0.096</tt>
<br></br>3) The worse player scores one point, the better player scores one point, and then finally the worse player a second point, with probability <tt>0.4*0.6*0.4 = 0.096</tt>
<br></br><br></br>Thus, the total probability is <tt>0.16+0.096+0.096 = 0.352</tt></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>50</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.4999999999999998</pre></td></tr><tr><td><table><tr><td colspan="2">When the probability is 50, clearly each player is the same, so each player has a 50% chance of winning.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>25</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.035714285714285705</pre></td></tr><tr><td></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>