<html><head><title>SlimeXResidentSlime</title></head><body  ><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>You are playing a game titled Resident Slime. You will play the role of the hero and exterminate undead slimes.
<br></br>
<br></br>
You are on a level that is represented by an RxC rectangular grid of cells given in String[] <b>field</b>. Rows are numbered 0 through R-1 from top to bottom, and columns are numbered 0 through C-1 from left to right. <b>field[r][c]</b> represents the content of the cell located at row r and column c and is one of the following:
<ul>
<li>'.' : an empty cell.</li>
<li>'#' : a wall.</li>
<li>'$' : an empty cell where you initially reside.</li>
<li>'1'-'9' : a stationary undead slime whose regenerative power is equal to the digit representing it.</li>
</ul>
You are going to exterminate all the slimes in this level. Unfortunately, after each slime is killed, it only stays dead for a limited time before it gets revived. Your goal is to get the level into a state where every slime is dead. At that point, they will no longer come back to life. More specifically, the game works as follows.
<ul>
<li>You start at the cell denoted by '$'.</li>
<li>At the beginning of each turn, you either wait or move to one of the four adjacent cells (those which share a side with your current location). You cannot move to a cell which contains a wall.</li>
<li>Next, if there's a dead slime in your new location, it will get revived.</li>
<li>Next, if your new location is occupied by an undead slime, that slime gets killed. The killed slime will remain in the cell.</li>
<li>Next, each slime is revived if its regenerative power is equal to the number of turns ago it was last killed.</li>
<li>Finally, if at this moment all undead slimes are killed, you win the level. Otherwise, the turn advances and the game continues.</li>
</ul>
What is the minimum number of turns required to win this level? Return -1 if it is impossible.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>SlimeXResidentSlime</td></tr><tr><td>Method:</td><td>exterminate</td></tr><tr><td>Parameters:</td><td>String[]</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int exterminate(String[] field)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>field</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>field</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>All the elements of <b>field</b> will contain the same number of characters.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>field</b> will be '.', '#', '$', or '1'-'9'.</td></tr><tr><td align="center" valign="top">-</td><td>There will be exactly one '$' in <b>field</b>.</td></tr><tr><td align="center" valign="top">-</td><td>There will be at least one digit (i.e., a slime) in <b>field</b>.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>
{
&quot;#1$&quot;,
&quot;.2.&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">Go down, then go left (killing the slime denoted by '2'). Finally, go up (killing the slime denoted by '1') and since no slime gets revived during this turn, you win the level.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{
&quot;$&quot;,
&quot;1&quot;,
&quot;1&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2">It's impossible to defeat this level. Each time you kill a slime, the other slime gets revived.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{
&quot;$124&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2">Go right, kill the slime denoted by '1'. 
Go right, kill the slime denoted by '2'. (After this, the slime denoted by '1' gets revived). 
Go right, kill the slime denoted by '4'. 
Go left, (the slime denoted by '2' immediately revives), and kill the slime denoted by '2'.
Go left, kill the slime denoted by '1', and win the level.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;$.#2&quot;
,&quot;#..1&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>