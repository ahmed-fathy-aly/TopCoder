<html><head><title>NestedRandomness</title></head><body  ><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Consider a function randomInt(integer N) that takes an integer N and returns an integer uniformly at random in the range 0 to N-1.  If that function is nested, as in randomInt(randomInt(N)), the probability distribution changes, and some numbers are more likely than others.  Given an int <b>nestings</b> defining the number of times the function is nested (1 indicates randomInt(N), 2 indicates randomInt(randomInt(N)), and so on), an int <b>N</b> and an int <b>target</b>, return the probability that the result of <b>nestings</b> nested calls to randomInt with the parameter <b>N</b> will result in <b>target</b>.  </td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>NestedRandomness</td></tr><tr><td>Method:</td><td>probability</td></tr><tr><td>Parameters:</td><td>int, int, int</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double probability(int N, int nestings, int target)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Calling randomInt(0) causes an error to occur, and hence can never cause an outcome of <b>target</b>.</td></tr><tr><td align="center" valign="top">-</td><td>Your return must have a relative or absolute error less than 1E-9.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 1 and 1000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>nestings</b> will be between 1 and 10, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>target</b> will be between 0 and N-<b>nestings</b>, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.21666666666666667</pre></td></tr><tr><td><table><tr><td colspan="2">There are 3 ways of ending up with a 1 after calling randomInt(randomInt(5)).  The inner call can result in a 4, 3, or a 2.  Each of these possibilities occurs with a probability of 1/5.  The probabilities of achieving a 1 with each of those results are 1/4, 1/3, and 1/2, respectively.  This gives us a final probability of (1/5)*(1/4+1/3+1/2) = 13/60.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>0</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.19942680776014104</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1000</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>990</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1.0461776397050886E-30</pre></td></tr><tr><td></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>