<html><head><title>PalindromePath</title></head><body  ><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>You are given an undirected graph with <b>n</b> nodes, labeled 0 through <b>n</b>-1.
You are given the description of its edges in int[]s <b>a</b> and <b>b</b> and in the String <b>c</b>.
For each valid i, the vertices <b>a</b>[i] and <b>b</b>[i] are connected by an edge, and the character <b>c</b>[i] is the label of that edge.<br></br>
<br></br>
A walk in the graph is any sequence of consecutive edges.
(In other words, a walk is a path that may visit the same vertex and also use the same edge multiple times.)
The length of a walk is the number of edges it contains.
The label of a walk is the concatenation of labels of edges it contains, in order.<br></br>
<br></br>
A palindrome is a string that reads the same forwards and backwards.
Some palindromes: "a", "abba", "racecar", "steponnopets".<br></br>
<br></br>
We are interested in walks that go from node 0 to node 1 and have a palindromic label.
Return the length of the shortest such walk.
If there is no such walk, return -1 instead.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PalindromePath</td></tr><tr><td>Method:</td><td>shortestLength</td></tr><tr><td>Parameters:</td><td>int, int[], int[], String</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int shortestLength(int n, int[] a, int[] b, String c)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>n</b> will be between 2 and 20, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>a</b> will contain between 1 and <b>n</b>*(<b>n</b>-1)/2 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>a</b>, <b>b</b> and <b>c</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>a</b> will be between 0 and <b>n</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>b</b> will be between 0 and <b>n</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>c</b> will be a lowercase English letter ('a'-'z').</td></tr><tr><td align="center" valign="top">-</td><td>For each valid i, <b>a</b>[i] != <b>b</b>[i].</td></tr><tr><td align="center" valign="top">-</td><td>If i!=j then {<b>a</b>[i], <b>b</b>[i]} != {<b>a</b>[j], <b>b</b>[j]}.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{2,2,0,3,4}</pre></td></tr><tr><td><pre>{0,1,3,4,1}</pre></td></tr><tr><td><pre>&quot;abxyx&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">The shortest walk between 0 and 1 is 0-2-1.
However, the label of this walk is "ab" which is not a palindrome.
The shortest walk that has a palindromic label is 0-3-4-1.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{2,2,0,3,4}</pre></td></tr><tr><td><pre>{0,1,3,4,1}</pre></td></tr><tr><td><pre>&quot;abxyz&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2">This time there is no such path.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>7</pre></td></tr><tr><td><pre>{0,0,3,4,5,6}</pre></td></tr><tr><td><pre>{2,3,4,5,6,1}</pre></td></tr><tr><td><pre>&quot;abaaaa&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 9</pre></td></tr><tr><td><table><tr><td colspan="2">Note that sometimes you need to use an edge more than once: the optimal solution is 0-2-0-2-0-3-4-5-6-1.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>6</pre></td></tr><tr><td><pre>{0,0,3,4,5}</pre></td></tr><tr><td><pre>{2,3,4,5,1}</pre></td></tr><tr><td><pre>&quot;abaaa&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>{0}</pre></td></tr><tr><td><pre>{1}</pre></td></tr><tr><td><pre>&quot;x&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>20</pre></td></tr><tr><td><pre>{18}</pre></td></tr><tr><td><pre>{19}</pre></td></tr><tr><td><pre>&quot;z&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>