<html><head><title>ChessKnight</title></head><body  ><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p><i>The problem statement contains an image.</i></p>
<p>
Consider an empty chess board (8x8 squares), with a chess knight placed on one of the squares.
The possible movements of a chess knight are marked on the picture below.
</p>
<br></br>
<img src="http://www.topcoder.com/contest/problem/ChessKnight/ChessKnightMoves.gif"></img>
<p>
If the knight moves <i>n</i> times, each time picking one
of the eight directions uniformly at random (possibly a direction which makes the knight
leave the chess board), determine the probability that it's
still on the board after <i>n</i> jumps. Once the knight leaves the board, it can't enter it again.
</p>

<p>
Create a class ChessKnight containing the method probability which takes an
int <b>x</b>, an int <b>y</b> (the start square of the chess knight,
where 1,1 is one of the corners)
and an int <b>n</b>, the number of jumps the knight will make.
The method should return a double, the probability that the knight
is still on the chess board after making <i>n</i> random jumps.
</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>ChessKnight</td></tr><tr><td>Method:</td><td>probability</td></tr><tr><td>Parameters:</td><td>int, int, int</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double probability(int x, int y, int n)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Once the knight leaves the board, it can't enter it again.</td></tr><tr><td align="center" valign="top">-</td><td>Your return must have an absolute or relative error less than 1e-9.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>x</b> will be between 1 and 8, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>y</b> will be between 1 and 8, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>n</b> will be between 1 and 100, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.1875</pre></td></tr><tr><td><table><tr><td colspan="2">When starting at a corner, only two of the initial jumps will cause the knight to stay on the board. From these new squares, six of the eight jumps will cause the knight to stay on the board. Hence the probability that the knight will stay on the board after two jumps is 1/4 * 6/8 = 0.1875.
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1.0</pre></td></tr><tr><td><table><tr><td colspan="2">The knight can't fall off the board if only making a single jump from a square so close to the center.
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.0522148497402668</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>50</pre></td></tr></table></td></tr><tr><td><pre>Returns: 8.356427906809618E-7</pre></td></tr><tr><td></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>