<html><head><title>DiceThrows</title></head><body  ><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>The players A and B are playing a game with dice. Player A throws <b>numDiceA</b> of his dice, while player B throws <b>numDiceB</b> of his dice. Each of them adds the pips on his dice, and the player with the higher sum wins the game (if both get the same sum, it is a draw). The variables <b>sidesA</b> and <b>sidesB</b> have 6 elements each, and describe how many pips are on each side of the dice of player A and player B respectively. Each die has exactly 1/6 probability for each possible outcome.</p>

<p>Given the number of dice <b>numDiceA</b> and <b>numDiceB</b> each player throws, and their configurations <b>sidesA</b> and <b>sidesB</b>, compute the probability that player A wins the game.</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>DiceThrows</td></tr><tr><td>Method:</td><td>winProbability</td></tr><tr><td>Parameters:</td><td>int, int[], int, int[]</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double winProbability(int numDiceA, int[] sidesA, int numDiceB, int[] sidesB)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Your return value must have an absolute or relative error less than 1e-9.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>numDiceA</b> and <b>numDiceB</b> are between 1 and 200, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>sidesA</b> and <b>sidesB</b> each contain exactly 6 elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>sidesA</b> and <b>sidesB</b> is between 1 and 100, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>{1,2,3,4,5,6}</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>{1,2,3,4,5,6}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.41666666666666663</pre></td></tr><tr><td><table><tr><td colspan="2">This is the simple case, where each player throws a normal die once. Of the 36 possible outcomes, 6 are a tie (both players throw the same number), 15 a win for A and 15 a win for B. So player A wins 15/36 of the games.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>200</pre></td></tr><tr><td><pre>{1,3,8,18,45,100}</pre></td></tr><tr><td><pre>200</pre></td></tr><tr><td><pre>{1,4,10,21,53,100}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.25240407058279035</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>{1,1,1,2,2,2}</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>{1,1,1,1,1,1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.25</pre></td></tr><tr><td><table><tr><td colspan="2">Note that dice can have several equal sides. Here, player B gets a sum of 3. Player A can beat that only if he gets a 2 on both his throws, giving him a 1/4 chance of winning.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>200</pre></td></tr><tr><td><pre>{6,5,4,3,2,1}</pre></td></tr><tr><td><pre>200</pre></td></tr><tr><td><pre>{3,4,6,5,1,2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.49416239842107595</pre></td></tr><tr><td><table><tr><td colspan="2">Note that <b>sidesA</b> and <b>sidesB</b> need not be sorted.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>100</pre></td></tr><tr><td><pre>{1,1,1,1,1,2}</pre></td></tr><tr><td><pre>199</pre></td></tr><tr><td><pre>{1,1,1,1,1,1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1.5306467074865068E-78</pre></td></tr><tr><td><table><tr><td colspan="2">There is a 6<sup>-100</sup> probability of player A winning (all his throws are 2).</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>